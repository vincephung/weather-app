{"ast":null,"code":"import _regeneratorRuntime from\"/home/vincephung/Desktop/the_oden_project/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/vincephung/Desktop/the_oden_project/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/vincephung/Desktop/the_oden_project/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import FormDisplay from'./FormDisplay';import WeatherCard from'./WeatherCard';import ChangeBackground from'./ChangeBackground';import DisplayError from'./DisplayError';import'./form.css';var FormContainer=function FormContainer(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var handleError=function handleError(){setError(true);setWeatherData(null);};var getWeatherData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(location){var url,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(false);url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(location,\"&appid=09cb87e3b19945bb6949563cd21ace23\");_context.next=5;return fetch(url,{mode:'cors'});case 5:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=9;return response.json();case 9:data=_context.sent;setWeatherData(data);return _context.abrupt(\"return\",data);case 14:handleError();case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function getWeatherData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"formContainer\"},/*#__PURE__*/React.createElement(FormDisplay,{getWeatherData:getWeatherData}),weatherData!==null?/*#__PURE__*/React.createElement(WeatherCard,{data:weatherData}):null,weatherData!==null?/*#__PURE__*/React.createElement(ChangeBackground,{data:weatherData}):null,error&&!weatherData?/*#__PURE__*/React.createElement(DisplayError,null):null);};export default FormContainer;","map":{"version":3,"sources":["/home/vincephung/Desktop/the_oden_project/weather-app/src/FormContainer.js"],"names":["React","useState","useEffect","FormDisplay","WeatherCard","ChangeBackground","DisplayError","FormContainer","weatherData","setWeatherData","error","setError","handleError","getWeatherData","location","url","fetch","mode","response","ok","json","data","Error"],"mappings":"igBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAO,YAAP,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eACYN,QAAQ,CAAC,IAAD,CADpB,wCACnBO,WADmB,eACNC,cADM,8BAEAR,QAAQ,CAAC,KAAD,CAFR,yCAEnBS,KAFmB,eAEZC,QAFY,eAI1B,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBD,QAAQ,CAAC,IAAD,CAAR,CACAF,cAAc,CAAC,IAAD,CAAd,CACD,CAHD,CAKA,GAAMI,CAAAA,cAAc,0FAAG,iBAAOC,QAAP,wJAEnBH,QAAQ,CAAC,KAAD,CAAR,CACMI,GAHa,6DAG8CD,QAH9C,kEAIIE,CAAAA,KAAK,CAACD,GAAD,CAAM,CAAEE,IAAI,CAAE,MAAR,CAAN,CAJT,QAIbC,QAJa,mBAMfA,QAAQ,CAACC,EANM,gDAOED,CAAAA,QAAQ,CAACE,IAAT,EAPF,QAOXC,IAPW,eAQjBZ,cAAc,CAACY,IAAD,CAAd,CARiB,gCASVA,IATU,UAWjBT,WAAW,GAXM,8FAcb,IAAIU,CAAAA,KAAJ,aAda,sEAAH,kBAAdT,CAAAA,cAAc,4CAApB,CAkBA,mBACE,2BAAK,SAAS,CAAC,eAAf,eACE,oBAAC,WAAD,EAAa,cAAc,CAAEA,cAA7B,EADF,CAEGL,WAAW,GAAK,IAAhB,cAAuB,oBAAC,WAAD,EAAa,IAAI,CAAEA,WAAnB,EAAvB,CAA4D,IAF/D,CAGGA,WAAW,GAAK,IAAhB,cAAuB,oBAAC,gBAAD,EAAkB,IAAI,CAAEA,WAAxB,EAAvB,CAAiE,IAHpE,CAIGE,KAAK,EAAI,CAACF,WAAV,cAAwB,oBAAC,YAAD,MAAxB,CAA2C,IAJ9C,CADF,CAQD,CAnCD,CAqCA,cAAeD,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FormDisplay from './FormDisplay';\nimport WeatherCard from './WeatherCard';\nimport ChangeBackground from './ChangeBackground';\nimport DisplayError from './DisplayError';\nimport './form.css';\n\nconst FormContainer = () => {\n  const [weatherData, setWeatherData] = useState(null);\n  const [error, setError] = useState(false);\n\n  const handleError = () => {\n    setError(true);\n    setWeatherData(null);\n  };\n\n  const getWeatherData = async (location) => {\n    try {\n      setError(false);\n      const url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=09cb87e3b19945bb6949563cd21ace23`;\n      const response = await fetch(url, { mode: 'cors' });\n\n      if (response.ok) {\n        const data = await response.json();\n        setWeatherData(data);\n        return data;\n      } else {\n        handleError();\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  };\n\n  return (\n    <div className=\"formContainer\">\n      <FormDisplay getWeatherData={getWeatherData} />\n      {weatherData !== null ? <WeatherCard data={weatherData} /> : null}\n      {weatherData !== null ? <ChangeBackground data={weatherData} /> : null}\n      {error && !weatherData ? <DisplayError /> : null}\n    </div>\n  );\n};\n\nexport default FormContainer;\n"]},"metadata":{},"sourceType":"module"}